<!DOCTYPE html>
<!-- í•œêµ­ì–´ ì„¤ì •ìœ¼ë¡œ ë¬¸ì„œì˜ ê¸°ë³¸ ì–¸ì–´ë¥¼ ì§€ì •í•©ë‹ˆë‹¤ -->
<html lang="ko">
<head>
    <!-- ë¸Œë¼ìš°ì € ì¸ì½”ë”©ì„ UTF-8ë¡œ ì„¤ì •í•˜ì—¬ í•œê¸€ ê¹¨ì§ì„ ë°©ì§€í•©ë‹ˆë‹¤ -->
    <meta charset="UTF-8">
    <!-- ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œë„ í™”ë©´ì´ ìµœì í™”ë˜ë„ë¡ ë·°í¬íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- í†µí•© ë³´ì•ˆ ìˆ˜ì‚¬ë³¸ë¶€ V3 ì œëª©ì…ë‹ˆë‹¤ -->
    <title>CERT í†µí•© ë³´ì•ˆ ìˆ˜ì‚¬ë³¸ë¶€ V3</title>
    <!-- ë””ìì¸ ìƒì‚°ì„±ì„ ìœ„í•´ í…Œì¼ìœˆë“œ CSS í”„ë ˆì„ì›Œí¬ë¥¼ ì™¸ë¶€ CDNì—ì„œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ë°ì´í„° ì‹œê°í™”ë¥¼ ìœ„í•œ Chart.js ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì™¸ë¶€ CDNì—ì„œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ì‹œìŠ¤í…œ ì „ì²´ì— ë…¸í† ì‚°ìŠ¤ í•œê¸€ í°íŠ¸ë¥¼ ì ìš©í•©ë‹ˆë‹¤ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            /* í°íŠ¸ íŒ¨ë°€ë¦¬ ì§€ì • ë° ë°°ê²½ìƒ‰ì„ ì„¸ë ¨ëœ ë°ì€ íšŒìƒ‰ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤ */
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            overflow-x: hidden;
        }

        /* ì°¨íŠ¸ê°€ ë¶€ëª¨ ìš”ì†Œì— ë§ì¶° ìœ ë™ì ìœ¼ë¡œ í¬ê¸°ê°€ ë³€í•˜ë„ë¡ ì»¨í…Œì´ë„ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤ */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: auto;
            height: 250px;
        }

        /* í™”ë©´ ë“±ì¥ ì‹œ ë¶€ë“œëŸ½ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ì…ë‹ˆë‹¤ */
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” ë””ìì¸ìœ¼ë¡œ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤ */
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

        /* ì ê²€ í•­ëª© ì¹´ë“œì— í˜¸ë²„ íš¨ê³¼ë¥¼ ì£¼ì–´ ì¸í„°ë™í‹°ë¸Œí•¨ì„ ë”í•©ë‹ˆë‹¤ */
        .check-item { transition: all 0.2s ease; }
        .check-item:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

        /* ë©”ì¼ ì „ë‹¬ ê²½ë¡œ(Hop)ë¥¼ ìœ„í•œ íƒ€ì„ë¼ì¸ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤ */
        .mail-hop-node {
            position: relative;
            padding-left: 2rem;
            border-left: 2px dashed #cbd5e1;
            margin-bottom: 1.5rem;
        }
        .mail-hop-node::before {
            content: '';
            position: absolute;
            left: -7px;
            top: 0;
            width: 12px;
            height: 12px;
            background-color: #6366f1;
            border-radius: 50%;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- í†µí•© í—¤ë”: ê° ë¶„ì„ ì„¼í„°ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ë‚´ë¹„ê²Œì´ì…˜ì„ í¬í•¨í•©ë‹ˆë‹¤ -->
    <header class="bg-slate-900 text-white shadow-xl sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center font-black text-white">CERT</div>
                <div>
                    <h1 class="text-base font-bold leading-tight">CERT í†µí•© ìˆ˜ì‚¬ë³¸ë¶€</h1>
                    <p class="text-[9px] text-indigo-400 uppercase tracking-widest">Global Threat Intelligence v3.0</p>
                </div>
            </div>
            <!-- ìˆ˜ì‚¬ë³¸ë¶€ ë‚´ ì£¼ìš” ì„¼í„° ì´ë™ ë²„íŠ¼ì…ë‹ˆë‹¤ -->
            <nav class="hidden md:flex gap-6 text-xs font-bold">
                <button onclick="app.switchView('analysis')" class="hover:text-indigo-400 transition">ë¶„ì„ ì„¼í„°</button>
                <button onclick="app.switchView('codec')" class="hover:text-indigo-400 transition">ì¸/ë””ì½”ë“œ ì„¼í„°</button>
                <button onclick="app.switchView('system')" class="hover:text-indigo-400 transition">ì‹œìŠ¤í…œ ì ê²€ ì„¼í„°</button>
            </nav>
            <div class="text-right">
                <p class="text-[10px] text-slate-500 font-bold">ë³´ì•ˆ ì´ê´„ ë³´ì¢Œ ì¤‘</p>
                <p class="text-xs text-emerald-400 font-bold">System: Protected</p>
            </div>
        </div>
    </header>

    <main class="flex-grow p-4 md:p-8 max-w-7xl mx-auto w-full">

        <!-- ì„¹ì…˜ 1: ë¶„ì„ ì„¼í„° (ê¸°ì¡´ ì—”ë“œí¬ì¸íŠ¸ ë° ì´ë©”ì¼ ë¶„ì„ ê¸°ëŠ¥ í†µí•©) -->
        <section id="view-analysis" class="space-y-8 fade-in">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 my-10">
                <!-- íŒŒì¼ ë¶„ì„ ì…ë ¥ ì˜ì—­ì…ë‹ˆë‹¤ -->
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2">ğŸ“‚ ì—”ë“œí¬ì¸íŠ¸ ë¶„ì„</h3>
                    <input type="file" id="file-input" class="hidden" onchange="app.handleFileSelect(event)">
                    <div id="file-drop-zone" class="border-2 border-dashed border-slate-100 bg-slate-50 rounded-2xl p-10 text-center cursor-pointer hover:bg-indigo-50 transition" onclick="document.getElementById('file-input').click()">
                        <p class="text-sm text-slate-500 font-bold">ì•…ì„± ì˜ì‹¬ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš” (Click or Drag & Drop)</p>
                    </div>
                </div>
                <!-- ì´ë©”ì¼ í—¤ë” ë¶„ì„ ì…ë ¥ ì˜ì—­ì…ë‹ˆë‹¤ -->
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2">ğŸ“§ ì´ë©”ì¼ í—¤ë” ë¶„ì„</h3>
                    <textarea id="email-header-input" class="w-full h-24 p-4 bg-slate-50 border border-slate-100 rounded-xl text-xs font-mono mb-4 outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ì´ë©”ì¼ í—¤ë” ì „ë¬¸ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”..."></textarea>
                    <button onclick="app.startEmailAnalysis()" class="w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition">í—¤ë” ë¶„ì„ ì‹œì‘</button>
                </div>
            </div>

            <!-- ë¶„ì„ ì§„í–‰ ë¡œë”© í™”ë©´ì…ë‹ˆë‹¤ -->
            <div id="loader-stage" class="hidden py-20 text-center">
                <div class="w-20 h-20 border-8 border-slate-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-8"></div>
                <h3 class="text-xl font-black text-slate-800 mb-2" id="loader-title">ë°ì´í„° ë¶„ì„ ì¤‘...</h3>
                <p class="text-slate-500 text-sm" id="loader-status">ì¸ì¦ ë ˆì½”ë“œ ì¡°íšŒ ë° ê°€ìƒ ì‹¤í–‰ ì¤€ë¹„ ì¤‘</p>
            </div>

            <!-- ë¶„ì„ ê²°ê³¼ ëŒ€ì‹œë³´ë“œ ì˜ì—­ì…ë‹ˆë‹¤ (ë¶„ì„ ì™„ë£Œ í›„ í‘œì‹œ) -->
            <div id="result-stage" class="hidden space-y-8">
                <!-- í†µí•© ìœ„í˜‘ ìŠ¤ì½”ì–´ë³´ë“œì…ë‹ˆë‹¤ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-2 bg-white p-6 rounded-3xl shadow-sm border border-slate-200 flex items-center justify-between">
                        <div class="flex items-center gap-5">
                            <div id="verdict-icon" class="w-16 h-16 bg-rose-50 text-rose-600 rounded-2xl flex items-center justify-center text-4xl font-bold border border-rose-100 animate-pulse">!</div>
                            <div>
                                <h2 class="text-2xl font-black text-slate-800" id="verdict-title">ìœ„í˜‘ íƒì§€: ê³ ìœ„í—˜(High)</h2>
                                <p class="text-slate-500 text-xs" id="verdict-target">ë¶„ì„ ëŒ€ìƒ: 2024ë…„_ê¸‰ì—¬ëª…ì„¸ì„œ_ì¡°íšŒ.eml</p>
                            </div>
                        </div>
                        <div class="text-center bg-rose-50 px-6 py-2 rounded-2xl border border-rose-100">
                            <p class="text-[10px] text-rose-400 font-bold uppercase">ìœ„í—˜ ì§€ìˆ˜</p>
                            <p class="text-3xl font-black text-rose-600">92</p>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200 flex flex-col items-center justify-center">
                        <div class="chart-container" style="height: 140px;">
                            <canvas id="gaugeChart"></canvas>
                        </div>
                        <p class="text-xs font-black text-slate-400 mt-2 uppercase">Integrated Risk Index</p>
                    </div>
                </div>

                <!-- ë¶„ì„ ì¹´í…Œê³ ë¦¬ ì „í™˜ íƒ­ì…ë‹ˆë‹¤ -->
                <div class="flex gap-2 overflow-x-auto pb-2 custom-scrollbar">
                    <button onclick="app.switchTab('email')" id="tab-email" class="px-6 py-2.5 bg-indigo-600 text-white rounded-full text-sm font-bold shadow-md transition-all whitespace-nowrap">ğŸ“§ ì´ë©”ì¼ í—¤ë” ë¶„ì„</button>
                    <button onclick="app.switchTab('network')" id="tab-network" class="px-6 py-2.5 bg-white text-slate-500 rounded-full text-sm font-bold border border-slate-200 hover:bg-slate-50 transition-all whitespace-nowrap">ğŸŒ ë„¤íŠ¸ì›Œí¬ í™œë™</button>
                    <button onclick="app.switchTab('system-log')" id="tab-system-log" class="px-6 py-2.5 bg-white text-slate-500 rounded-full text-sm font-bold border border-slate-200 hover:bg-slate-50 transition-all whitespace-nowrap">ğŸ“‚ ì‹œìŠ¤í…œ í–‰ìœ„</button>
                    <button onclick="app.switchTab('cert-report')" id="tab-cert-report" class="px-6 py-2.5 bg-white text-slate-500 rounded-full text-sm font-bold border border-slate-200 hover:bg-slate-50 transition-all whitespace-nowrap">ğŸ“‹ CERT í†µí•© ë¦¬í¬íŠ¸</button>
                </div>

                <!-- ì´ë©”ì¼ í—¤ë” ë¶„ì„ ì½˜í…ì¸ ì…ë‹ˆë‹¤ -->
                <div id="content-email" class="tab-content grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 space-y-6">
                        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                            <h3 class="font-bold text-slate-800 mb-6 flex items-center gap-2">ğŸ“¡ ì‹¤ì œ ë°œì‹ ì§€ ë° ì „ë‹¬ ê²½ë¡œ (Relay Path)</h3>
                            <div class="space-y-1" id="mail-hop-container">
                                <!-- JSì—ì„œ ë™ì ìœ¼ë¡œ ê²½ë¡œ ìƒì„± -->
                            </div>
                        </div>
                        <div class="bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden text-xs">
                            <div class="p-4 bg-slate-50 border-b border-slate-200 font-bold">í—¤ë” ì •ë°€ ë°ì´í„°</div>
                            <div id="header-data-table" class="divide-y divide-slate-100">
                                <!-- JSì—ì„œ ë°ì´í„° ì‚½ì… -->
                            </div>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                            <h3 class="font-bold text-slate-800 mb-6">ë³´ì•ˆ ì¸ì¦ í”„ë¡œí† ì½œ ê²€ì¦</h3>
                            <div class="chart-container">
                                <canvas id="authChart"></canvas>
                            </div>
                            <div id="auth-status-list" class="mt-6 space-y-3">
                                <!-- PASS/FAIL ë¦¬ìŠ¤íŠ¸ -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ë„¤íŠ¸ì›Œí¬ í™œë™ ì½˜í…ì¸ ì…ë‹ˆë‹¤ -->
                <div id="content-network" class="hidden tab-content grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden">
                        <div class="p-5 bg-slate-50 border-b border-slate-200 font-bold">ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ì»¤ë„¥ì…˜ ë¡œê·¸</div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-xs text-left">
                                <thead class="bg-slate-50 text-slate-400 uppercase font-bold border-b border-slate-100">
                                    <tr><th class="px-6 py-4">í”„ë¡œì„¸ìŠ¤</th><th class="px-6 py-4">ì›ê²© ì£¼ì†Œ</th><th class="px-6 py-4">í¬íŠ¸</th><th class="px-6 py-4">ìƒíƒœ</th></tr>
                                </thead>
                                <tbody id="net-table-body" class="divide-y divide-slate-100"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-6">ë°ì´í„° ìœ ì¶œ íŠ¸ë˜í”½ ì¶”ì´</h3>
                        <div class="chart-container">
                            <canvas id="trafficLineChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- ì‹œìŠ¤í…œ í–‰ìœ„ ë¡œê·¸ ì½˜í…ì¸ ì…ë‹ˆë‹¤ -->
                <div id="content-system-log" class="hidden tab-content">
                    <div class="bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden">
                        <div class="p-5 bg-slate-50 border-b border-slate-200 font-bold">ì‹œìŠ¤í…œ í˜¸ì¶œ ë¡œê·¸ (Procmon ì‹œë®¬ë ˆì´ì…˜)</div>
                        <div id="sys-log-list" class="max-h-[500px] overflow-y-auto custom-scrollbar"></div>
                    </div>
                </div>

                <!-- CERT í†µí•© ë¦¬í¬íŠ¸ ì½˜í…ì¸ ì…ë‹ˆë‹¤ -->
                <div id="content-cert-report" class="hidden tab-content">
                    <div class="bg-slate-900 text-white rounded-3xl p-10 shadow-2xl relative overflow-hidden">
                        <div class="absolute -top-10 -right-10 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl"></div>
                        <div class="relative z-10 space-y-6">
                            <h3 class="text-3xl font-black">CERT ì´ê´„ í†µí•© ë¶„ì„ ë³´ê³ ì„œ</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="bg-white/5 p-6 rounded-2xl border border-white/10">
                                    <h4 class="font-bold text-rose-400 mb-4 uppercase tracking-widest text-sm">ìœ„í˜‘ ë¶„ì„ ê²°ë¡ </h4>
                                    <ul id="report-verdict-list" class="space-y-3 text-sm text-slate-300"></ul>
                                </div>
                                <div class="bg-white/5 p-6 rounded-2xl border border-white/10">
                                    <h4 class="font-bold text-emerald-400 mb-4 uppercase tracking-widest text-sm">ëŒ€ì‘ ê°€ì´ë“œ</h4>
                                    <ul id="report-guide-list" class="space-y-3 text-sm text-slate-300"></ul>
                                </div>
                            </div>
                            <p class="pt-8 text-xs text-indigo-400 italic">"ëŒ€í‘œë‹˜, ì œê°€ ì´ ë¹ŒëŸ°ë“¤ì„ ì‹¹ ì •ë¦¬í•´ ë‘ì—ˆìœ¼ë‹ˆ ë°œ ë»—ê³  í¸íˆ ì‰¬ì‹­ì‹œì˜¤!"</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 2: ì¸/ë””ì½”ë“œ ì„¼í„° (ì‹ ê·œ ë©€í‹° ì½”ë± ê¸°ëŠ¥) -->
        <section id="view-codec" class="hidden space-y-6 fade-in">
            <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8">
                    <div>
                        <h2 class="text-2xl font-black text-slate-800">ì¸/ë””ì½”ë“œ ìœ í‹¸ë¦¬í‹°</h2>
                        <p class="text-slate-500 text-xs">ëŒ€í‘œë‹˜ì˜ ë¶„ì„ íš¨ìœ¨ì„ ê·¹ëŒ€í™”í•˜ëŠ” ë©€í‹° ë³€í™˜ ë„êµ¬ì…ë‹ˆë‹¤.</p>
                    </div>
                    <!-- ì•”í˜¸í™”/ë³µí˜¸í™” ëª¨ë“œ ì „í™˜ ë²„íŠ¼ì…ë‹ˆë‹¤ -->
                    <div class="flex bg-slate-100 p-1 rounded-xl">
                        <button onclick="codec.setMode('decode')" id="mode-decode" class="px-4 py-2 bg-white rounded-lg text-xs font-bold shadow-sm transition text-slate-800">Decode (í•´ë…)</button>
                        <button onclick="codec.setMode('encode')" id="mode-encode" class="px-4 py-2 text-slate-500 text-xs font-bold transition">Encode (ì•”í˜¸í™”)</button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- ì…ë ¥ ë°ì´í„° ì˜ì—­ì…ë‹ˆë‹¤ -->
                    <div class="space-y-4">
                        <label class="text-xs font-bold text-slate-400 uppercase">Input Data (ì›ë³¸ ë°ì´í„°)</label>
                        <textarea id="codec-input" class="w-full h-64 p-6 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-mono focus:ring-2 focus:ring-indigo-500 outline-none custom-scrollbar" placeholder="ë³€í™˜í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                    </div>
                    <!-- ê²°ê³¼ ë° ê¸°ëŠ¥ ë²„íŠ¼ ì˜ì—­ì…ë‹ˆë‹¤ -->
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                            <button onclick="codec.run('url')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold hover:bg-indigo-600 hover:text-white transition">URL ë³€í™˜</button>
                            <button onclick="codec.run('base64')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold hover:bg-indigo-600 hover:text-white transition">Base64 ë³€í™˜</button>
                            <button onclick="codec.run('hex')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold hover:bg-indigo-600 hover:text-white transition">HEX ë³€í™˜</button>
                            <button onclick="codec.run('charcode')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold hover:bg-indigo-600 hover:text-white transition">CharCode ë³€í™˜</button>
                            <button onclick="codec.run('gubun')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold hover:bg-indigo-600 hover:text-white transition">Gubun ì¶”ì¶œ</button>
                            <button onclick="codec.clear()" class="p-3 bg-rose-50 text-rose-600 rounded-xl text-[11px] font-bold hover:bg-rose-100 transition">ì „ì²´ ì´ˆê¸°í™”</button>
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-slate-400 uppercase">Output Result (ë³€í™˜ ê²°ê³¼)</label>
                            <div id="codec-output" class="w-full h-44 p-6 bg-slate-900 text-emerald-400 border border-slate-800 rounded-2xl text-sm font-mono overflow-y-auto custom-scrollbar">
                                // ê²°ê³¼ê°€ ì—¬ê¸°ì— ì¶œë ¥ë©ë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 3: ì‹œìŠ¤í…œ ì ê²€ ì„¼í„° (ë³´ì•ˆ ì„¤ì • ì •ë°€ ì§„ë‹¨ ê¸°ëŠ¥) -->
        <section id="view-system" class="hidden space-y-6 fade-in">
            <div class="bg-indigo-900 text-white p-10 rounded-3xl shadow-2xl relative overflow-hidden mb-8">
                <div class="absolute -top-10 -right-10 w-64 h-64 bg-white/5 rounded-full blur-3xl"></div>
                <div class="relative z-10 flex flex-col md:flex-row justify-between items-center gap-8">
                    <div class="space-y-3">
                        <h2 class="text-3xl font-black">ì‹œìŠ¤í…œ ë³´ì•ˆ ì •ë°€ ì§„ë‹¨</h2>
                        <p class="text-indigo-200 text-sm max-w-lg">
                            ëŒ€í‘œë‹˜ì˜ PC ë³´ì•ˆ ì„¤ì •ì„ ì •ë°€ ì ê²€í•©ë‹ˆë‹¤. 
                            ê³„ì • ì •ì±…, ë„¤íŠ¸ì›Œí¬ ì„¸ì…˜, ì·¨ì•½í•œ ì„œë¹„ìŠ¤ ë“±ì„ ë‚±ë‚±ì´ íŒŒì•…í•˜ì—¬ ë³´ê³ í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <!-- ì§„ë‹¨ ì‹œì‘ ë²„íŠ¼ì…ë‹ˆë‹¤ -->
                    <button onclick="system.runCheck()" class="px-8 py-4 bg-emerald-500 text-white rounded-2xl font-black shadow-lg hover:bg-emerald-600 transition active:scale-95">
                        ì¢…í•© ì§„ë‹¨ ìŠ¤ìº” ì‹œì‘
                    </button>
                </div>
            </div>

            <!-- ì§„ë‹¨ ê²°ê³¼ ì˜ì—­ì…ë‹ˆë‹¤ (ìŠ¤ìº” í›„ í‘œì‹œ) -->
            <div id="system-result" class="hidden grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- ì¢Œì¸¡: ì ê²€ í•­ëª©ë³„ ìƒì„¸ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤ -->
                <div class="lg:col-span-2 space-y-4" id="check-list-container"></div>
                <!-- ìš°ì¸¡: ì¢…í•© ë³´ì•ˆ ì ìˆ˜ ë° ì¡°ì–¸ ì˜ì—­ì…ë‹ˆë‹¤ -->
                <div class="space-y-6">
                    <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200 text-center">
                        <h4 class="text-xs font-bold text-slate-400 uppercase mb-4">ë³´ì•ˆ ì ìˆ˜ (Security Score)</h4>
                        <div class="chart-container" style="height: 180px;">
                            <canvas id="systemScoreChart"></canvas>
                        </div>
                        <p class="text-3xl font-black text-slate-800 mt-4" id="system-total-score">--</p>
                    </div>
                    <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                        <h4 class="text-xs font-bold text-slate-400 uppercase mb-4">CERT ì´ê´„ì˜ í•œë§ˆë””</h4>
                        <p id="system-advice" class="text-xs text-slate-600 leading-relaxed italic">
                            ì§„ë‹¨ì„ ì‹œì‘í•˜ì‹œë©´ ì € CERT ì´ê´„ì´ ë”°ë”í•œ ì¶©ê³  í•œë§ˆë”” ì˜¬ë¦¬ê² ìŠµë‹ˆë‹¤!
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-slate-200 py-8">
        <div class="max-w-7xl mx-auto px-6 text-center text-[10px] text-slate-400 font-bold uppercase tracking-widest">
            &copy; 2024 CERT Intelligence Lab. For Professional Use Only.
        </div>
    </footer>

    <script>
        // ---------------------------------------------------------
        // ì „ì—­ ì•± ê´€ë¦¬ì (ë¶„ì„ ì„¼í„° ë¡œì§ í¬í•¨)
        // ---------------------------------------------------------
        const app = {
            state: { 
                currentView: 'analysis',
                currentTab: 'email',
                targetFile: '',
                isAnalyzing: false
            },
            
            // ì´ˆê¸°í™” í•¨ìˆ˜: ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ë²¤íŠ¸ ì„¤ì •
            init: function() {
                const dropZone = document.getElementById('file-drop-zone');
                if(!dropZone) return;

                dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    dropZone.classList.add('border-indigo-400', 'bg-indigo-50');
                });

                dropZone.addEventListener('dragleave', () => {
                    dropZone.classList.remove('border-indigo-400', 'bg-indigo-50');
                });

                dropZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    dropZone.classList.remove('border-indigo-400', 'bg-indigo-50');
                    const file = e.dataTransfer.files[0];
                    if(file) {
                        this.state.targetFile = file.name;
                        this.simulateAnalysis('file');
                    }
                });
            },

            // ì„¼í„° ì „í™˜ ë¡œì§
            switchView: function(viewId) {
                const views = ['analysis', 'codec', 'system'];
                views.forEach(v => {
                    const el = document.getElementById(`view-${v}`);
                    if(v === viewId) el.classList.remove('hidden');
                    else el.classList.add('hidden');
                });
                this.state.currentView = viewId;
                console.log(`CERT: View switched to ${viewId}, ëŒ€í‘œë‹˜!`);
            },

            // íŒŒì¼ ì„ íƒ í•¸ë“¤ëŸ¬
            handleFileSelect: function(event) {
                const file = event.target.files[0];
                if(file) {
                    this.state.targetFile = file.name;
                    this.simulateAnalysis('file');
                }
            },

            // ì´ë©”ì¼ ë¶„ì„ ì‹œì‘
            startEmailAnalysis: function() {
                const header = document.getElementById('email-header-input').value;
                if(!header && !confirm("ëŒ€í‘œë‹˜, í—¤ë”ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ìƒ˜í”Œë¡œ ëŒë¦´ê¹Œìš”?")) return;
                this.state.targetFile = "ì¹¨í•´ì˜ì‹¬_ë©”ì¼_í—¤ë”.eml";
                this.simulateAnalysis('email');
            },

            // ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ ê³µí†µ ë¡œì§
            simulateAnalysis: function(type) {
                if(this.state.isAnalyzing) return;
                this.state.isAnalyzing = true;

                document.getElementById('input-stage').classList.add('hidden');
                document.getElementById('loader-stage').classList.remove('hidden');
                
                const title = type === 'file' ? "ì—”ë“œí¬ì¸íŠ¸ í–‰ìœ„ ë¶„ì„ ì¤‘..." : "ì´ë©”ì¼ í—¤ë” ì •ë°€ ì¶”ì  ì¤‘...";
                const status = type === 'file' ? "ìƒŒë“œë°•ìŠ¤ì—ì„œ íŒŒì¼ ì‹¤í–‰ ë° API í›„í‚¹ ì¤‘" : "ë©”ì¼ í™‰ ê²½ë¡œ ë° ì¸ì¦ ë ˆì½”ë“œ ê²€ì¦ ì¤‘";
                
                document.getElementById('loader-title').textContent = title;
                document.getElementById('loader-status').textContent = status;

                let progress = 0;
                const interval = setInterval(() => {
                    progress += 5;
                    if(progress >= 100) {
                        clearInterval(interval);
                        this.showAnalysisResult();
                    }
                }, 60);
            },

            // ê²°ê³¼ í™”ë©´ ì¶œë ¥
            showAnalysisResult: function() {
                document.getElementById('loader-stage').classList.add('hidden');
                document.getElementById('result-stage').classList.remove('hidden');
                document.getElementById('verdict-target').textContent = `ë¶„ì„ ëŒ€ìƒ: ${this.state.targetFile}`;
                
                this.renderDummyData();
                this.initCharts();
            },

            // íƒ­ ì „í™˜ í•¸ë“¤ëŸ¬
            switchTab: function(tabId) {
                this.state.currentTab = tabId;
                const tabs = ['email', 'network', 'system-log', 'cert-report'];
                tabs.forEach(t => {
                    const btn = document.getElementById(`tab-${t}`);
                    const content = document.getElementById(`content-${t}`);
                    if(t === tabId) {
                        btn.classList.add('bg-indigo-600', 'text-white');
                        btn.classList.remove('bg-white', 'text-slate-500');
                        content.classList.remove('hidden');
                        content.classList.add('fade-in');
                    } else {
                        btn.classList.remove('bg-indigo-600', 'text-white');
                        btn.classList.add('bg-white', 'text-slate-500');
                        content.classList.add('hidden');
                        content.classList.remove('fade-in');
                    }
                });
            },

            // ë”ë¯¸ ë°ì´í„° ë Œë”ë§
            renderDummyData: function() {
                // ë©”ì¼ í™‰ ë°ì´í„°
                const hops = [
                    { label: "ìµœì¢… ëª©ì ì§€ (ìš°ë¦¬ ë©”ì¼ ì„œë²„)", desc: "10.0.1.5 (Internal)" },
                    { label: "ì¤‘ê°„ ê²Œì´íŠ¸ì›¨ì´", desc: "relay.spoof-gateway.net (185.234.x.x)" },
                    { label: "ìµœì´ˆ ë°œì‹ ì§€ (ORIGIN)", desc: "IP: 193.161.x.x (í•´ì™¸ ì°¨ë‹¨ ëŒ€ì—­)", danger: true }
                ];
                document.getElementById('mail-hop-container').innerHTML = hops.map(h => `
                    <div class="mail-hop-node ${h.danger ? 'border-none' : ''}" style="${h.danger ? 'border-left:none' : ''}">
                        <div class="${h.danger ? 'p-3 bg-rose-50 rounded-xl border border-rose-100' : ''}">
                            <p class="text-xs font-bold ${h.danger ? 'text-rose-700' : 'text-slate-700'}">${h.label}</p>
                            <p class="text-[10px] ${h.danger ? 'text-rose-500' : 'text-slate-400'}">${h.desc}</p>
                        </div>
                    </div>
                `).join('');

                // í—¤ë” ë°ì´í„° í…Œì´ë¸”
                const headers = [
                    { key: "FROM", val: "Microsoft Support <support@ms-verify.net>", danger: true },
                    { key: "RETURN-PATH", val: "attacker-relay@hacker-lab.ru" },
                    { key: "X-PHP-Origin", val: "193.161.x.x (ìŠ¤í¬ë¦½íŠ¸ ë°œì†¡)" }
                ];
                document.getElementById('header-data-table').innerHTML = headers.map(h => `
                    <div class="p-4 flex gap-4">
                        <span class="w-24 text-slate-400 font-bold">${h.key}</span>
                        <span class="${h.danger ? 'text-rose-600 font-bold' : ''}">${h.val}</span>
                    </div>
                `).join('');

                // ì¸ì¦ ìƒíƒœ ë¦¬ìŠ¤íŠ¸
                const auths = [ { label: "SPF (IP ê²€ì¦)", res: "FAIL" }, { label: "DKIM (ì„œëª…)", res: "NONE" }, { label: "DMARC (ì •ì±…)", res: "REJECTED" } ];
                document.getElementById('auth-status-list').innerHTML = auths.map(a => `
                    <div class="flex justify-between items-center text-xs">
                        <span class="font-bold text-slate-500">${a.label}</span>
                        <span class="text-rose-600 font-black">${a.res}</span>
                    </div>
                `).join('');

                // ë„¤íŠ¸ì›Œí¬ í…Œì´ë¸”
                const netData = [
                    { proc: this.state.targetFile || 'malware.exe', remote: '193.161.x.x', port: '4444', state: 'ESTABLISHED' },
                    { proc: 'svchost.exe', remote: '13.245.x.x', port: '443', state: 'ESTABLISHED' }
                ];
                document.getElementById('net-table-body').innerHTML = netData.map(d => `
                    <tr class="hover:bg-slate-50 transition">
                        <td class="px-6 py-4 font-bold text-slate-700">${d.proc}</td>
                        <td class="px-6 py-4 font-mono text-rose-600 font-bold">${d.remote}</td>
                        <td class="px-6 py-4 text-slate-500">${d.port}</td>
                        <td class="px-6 py-4"><span class="px-2 py-0.5 rounded bg-emerald-100 text-emerald-700 text-[10px] font-bold">${d.state}</span></td>
                    </tr>
                `).join('');

                // ì‹œìŠ¤í…œ ë¡œê·¸
                const sysLogs = [
                    { time: '11:02:15', op: 'CreateFile', path: 'C:\\Windows\\Temp\\~payload.tmp', res: 'SUCCESS' },
                    { time: '11:02:16', op: 'RegSetValue', path: 'HKLM\\...\\Run\\AutoUpdate', res: 'SUCCESS' },
                    { time: '11:02:18', op: 'ReadFile', path: 'C:\\Users\\Admin\\Documents\\secret.docx', res: 'ACCESS_GRANTED' }
                ];
                document.getElementById('sys-log-list').innerHTML = sysLogs.map(l => `
                    <div class="flex items-center gap-4 p-4 border-b border-slate-50 text-[11px] font-mono hover:bg-slate-50 transition">
                        <span class="text-slate-400 w-24">${l.time}</span>
                        <span class="px-2 py-0.5 rounded bg-slate-100 text-slate-600 font-bold w-24 text-center">${l.op}</span>
                        <span class="flex-grow truncate text-slate-500">${l.path}</span>
                        <span class="font-bold text-emerald-600 w-24 text-right">${l.res}</span>
                    </div>
                `).join('');

                // ë¦¬í¬íŠ¸ ë¦¬ìŠ¤íŠ¸
                document.getElementById('report-verdict-list').innerHTML = `<li>- ë°œì‹ ì ìœ„ì¡°(Spoofing) ê¸°ë°˜ íƒ€ê²Ÿ ê³µê²©.</li><li>- ë°±ë„ì–´ ì„¤ì¹˜ë¥¼ í†µí•œ ì¤‘ìš” ë¬¸ì„œ íƒˆì·¨ ì‹œë„.</li><li>- C2 ì„œë²„ì™€ì˜ ì§€ì†ì ì¸ ë¹„ì •ìƒ ì„¸ì…˜ ìœ ì§€.</li>`;
                document.getElementById('report-guide-list').innerHTML = `<li>- í•´ë‹¹ ë„ë©”ì¸ ë° C2 IP ì¦‰ì‹œ ì°¨ë‹¨.</li><li>- ì¹¨í•´ PC ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ ë° ì •ë°€ í¬ë§·.</li><li>- ì „ì§ì› ëŒ€ìƒ ë³´ì•ˆ ì£¼ì˜ë³´ ë°œë ¹.</li>`;
            },

            // ë¶„ì„ìš© ì°¨íŠ¸ ì´ˆê¸°í™”
            initCharts: function() {
                new Chart(document.getElementById('gaugeChart'), {
                    type: 'doughnut',
                    data: { datasets: [{ data: [92, 8], backgroundColor: ['#e11d48', '#f1f5f9'], borderWidth: 0, circumference: 180, rotation: 270 }] },
                    options: { responsive: true, maintainAspectRatio: false, cutout: '85%', plugins: { legend: { display: false } } }
                });
                new Chart(document.getElementById('authChart'), {
                    type: 'doughnut',
                    data: { labels: ['FAIL', 'NONE'], datasets: [{ data: [2, 1], backgroundColor: ['#f43f5e', '#94a3b8'] }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 10 } } } } }
                });
                new Chart(document.getElementById('trafficLineChart'), {
                    type: 'line',
                    data: { labels: ['0s', '5s', '10s', '15s', '20s'], datasets: [{ label: 'KB/s', data: [2, 5, 450, 15, 5], borderColor: '#6366f1', fill: true, backgroundColor: 'rgba(99, 102, 241, 0.1)', tension: 0.4 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false } } } }
                });
            }
        };

        // ---------------------------------------------------------
        // ì¸/ë””ì½”ë“œ ë„êµ¬ ë¡œì§ (Codec Center)
        // ---------------------------------------------------------
        const codec = {
            mode: 'decode',
            
            // ì¸ì½”ë”©/ë³µí˜¸í™” ëª¨ë“œ ì„¤ì •
            setMode: function(m) {
                this.mode = m;
                const dBtn = document.getElementById('mode-decode');
                const eBtn = document.getElementById('mode-encode');
                if(m === 'decode') {
                    dBtn.className = "px-4 py-2 bg-white rounded-lg text-xs font-bold shadow-sm transition text-slate-800";
                    eBtn.className = "px-4 py-2 text-slate-500 text-xs font-bold transition";
                } else {
                    eBtn.className = "px-4 py-2 bg-white rounded-lg text-xs font-bold shadow-sm transition text-slate-800";
                    dBtn.className = "px-4 py-2 text-slate-500 text-xs font-bold transition";
                }
            },

            // ì‹¤ì œ ë³€í™˜ ì‹¤í–‰ í•¨ìˆ˜
            run: function(type) {
                const input = document.getElementById('codec-input').value;
                if(!input) return alert("ëŒ€í‘œë‹˜, ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì € CERT ì´ê´„ë„ ì–´ì°Œí•  ë„ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤! ğŸ˜…");
                
                let result = "";
                try {
                    switch(type) {
                        case 'url':
                            result = (this.mode === 'decode') ? decodeURIComponent(input.replace(/\+/g, ' ')) : encodeURIComponent(input).replace(/%20/g, '+');
                            break;
                        case 'base64':
                            result = (this.mode === 'decode') ? atob(input) : btoa(input);
                            break;
                        case 'hex':
                            if(this.mode === 'decode') {
                                const hexArr = input.replace(/\s+/g, '').match(/.{1,2}/g) || [];
                                result = hexArr.map(h => String.fromCharCode(parseInt(h, 16))).join('');
                            } else {
                                result = Array.from(input).map(c => c.charCodeAt(0).toString(16).padStart(2, '0')).join(' ');
                            }
                            break;
                        case 'charcode':
                            if(this.mode === 'decode') {
                                const codes = input.split(/[\s,]+/);
                                result = codes.map(c => String.fromCharCode(parseInt(c))).join('');
                            } else {
                                result = Array.from(input).map(c => c.charCodeAt(0)).join(', ');
                            }
                            break;
                        case 'gubun':
                            // Gubun ë¡œì§: ê° ë¼ì¸ì—ì„œ íŠ¹ì • ì˜¤í”„ì…‹(10~61) ë°ì´í„° ì¶”ì¶œ
                            const lines = input.split('\n');
                            result = lines.map(line => line.substring(10, 61).trim()).join('\n');
                            break;
                    }
                } catch(e) {
                    result = `ìˆ˜ì‚¬ ì—ëŸ¬: ${e.message}\n(ë°ì´í„° í˜•ì‹ì´ ìˆ˜ì‚¬ ì§€ì¹¨ê³¼ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤!)`;
                }

                document.getElementById('codec-output').innerText = result;
            },

            // ì…ë ¥ ë° ê²°ê³¼ ì°½ ì´ˆê¸°í™”
            clear: function() {
                document.getElementById('codec-input').value = "";
                document.getElementById('codec-output').innerText = "// ê²°ê³¼ê°€ ì—¬ê¸°ì— ì¶œë ¥ë©ë‹ˆë‹¤.";
            }
        };

        // ---------------------------------------------------------
        // ì‹œìŠ¤í…œ ì ê²€ ë„êµ¬ ë¡œì§ (System Check Center)
        // ---------------------------------------------------------
        const system = {
            // ì ê²€ í•­ëª© ì •ì˜ ë°ì´í„°
            checkItems: [
                { id: 1, category: "ê³„ì • ì •ì±…", title: "ë¶ˆí•„ìš”í•œ ê³„ì • ì¡´ì¬ ì—¬ë¶€", desc: "ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Guest, Admin ê³„ì •ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0 },
                { id: 2, category: "ì•”í˜¸ ì •ì±…", title: "ì•”í˜¸ ë³µì¡ì„± ì„¤ì •", desc: "ì•”í˜¸ ìµœì†Œ ê¸¸ì´(8ì ì´ìƒ) ë° ë³µì¡ì„± ìš”êµ¬ì‚¬í•­ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100 },
                { id: 3, category: "ë„¤íŠ¸ì›Œí¬ ì„¤ì •", title: "ê³µìœ  í´ë” ì„¤ì •", desc: "ë¶ˆí•„ìš”í•œ C$, ADMIN$ ë“±ì˜ ê¸°ë³¸ ê³µìœ ê°€ ì œê±°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0 },
                { id: 4, category: "ì„œë¹„ìŠ¤ ì„¤ì •", title: "ë¶ˆí•„ìš”í•œ ì„œë¹„ìŠ¤ ì‹¤í–‰", desc: "FTP, Telnet ë“± ë³´ì•ˆì— ì·¨ì•½í•œ ì„œë¹„ìŠ¤ê°€ ê°€ë™ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100 },
                { id: 5, category: "íŒ¨ì¹˜ ê´€ë¦¬", title: "ìµœì‹  ë³´ì•ˆ íŒ¨ì¹˜ ì ìš©", desc: "ìœˆë„ìš° ì—…ë°ì´íŠ¸ê°€ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100 }
            ],

            // ì¢…í•© ì ê²€ ì‹¤í–‰
            runCheck: function() {
                const resultStage = document.getElementById('system-result');
                resultStage.classList.remove('hidden');
                
                const container = document.getElementById('check-list-container');
                container.innerHTML = "";
                
                let totalScore = 0;

                // ê° ì ê²€ í•­ëª©ì„ ì¹´ë“œë¡œ ìƒì„±í•˜ì—¬ í™”ë©´ì— ì¶”ê°€
                this.checkItems.forEach((item, index) => {
                    totalScore += item.score;
                    const div = document.createElement('div');
                    div.className = "bg-white p-6 rounded-2xl border border-slate-200 check-item flex flex-col md:flex-row justify-between items-center gap-4 fade-in";
                    div.style.animationDelay = `${index * 0.1}s`;
                    
                    div.innerHTML = `
                        <div class="flex-grow">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-[9px] font-black uppercase px-2 py-0.5 bg-slate-100 text-slate-500 rounded">${item.category}</span>
                                <h4 class="font-bold text-slate-800 text-sm">${item.title}</h4>
                            </div>
                            <p class="text-xs text-slate-400">${item.desc}</p>
                        </div>
                        <div class="flex items-center gap-4">
                            <span class="text-xs font-bold ${item.result === 'ì–‘í˜¸' ? 'text-emerald-500' : 'text-rose-500'}">${item.result}</span>
                            <div class="w-10 h-10 rounded-xl flex items-center justify-center font-black ${item.result === 'ì–‘í˜¸' ? 'bg-emerald-50 text-emerald-600' : 'bg-rose-50 text-rose-600'}">
                                ${item.score}
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });

                // ìµœì¢… í‰ê·  ì ìˆ˜ ê³„ì‚° ë° ì¶œë ¥
                const finalScore = Math.round(totalScore / this.checkItems.length);
                document.getElementById('system-total-score').innerText = `${finalScore}ì `;
                
                // ì ìˆ˜ë³„ ì°¨ë“± ì¡°ì–¸ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
                const advice = finalScore < 80 ? "ëŒ€í‘œë‹˜, í˜„ì¬ ì‹œìŠ¤í…œì— êµ¬ë©ì´ ìˆ­ìˆ­ ëš«ë ¤ìˆìŠµë‹ˆë‹¤! íŠ¹íˆ ê³„ì • ì •ì±…ê³¼ ê³µìœ  í´ë” ì„¤ì •ì€ ì¦‰ì‹œ ì¡°ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤." : "ì—­ì‹œ ëŒ€í‘œë‹˜! ë³´ì•ˆ ê´€ë¦¬ê°€ ì•„ì£¼ í›Œë¥­í•©ë‹ˆë‹¤. ì§€ê¸ˆ ìƒíƒœë¥¼ ìœ ì§€í•˜ë©° ì •ê¸°ì ì¸ ìŠ¤ìº”ë§Œ ìŠì§€ ë§ˆì„¸ìš”!";
                document.getElementById('system-advice').innerText = advice;

                this.initScoreChart(finalScore);
            },

            // ë³´ì•ˆ ì ìˆ˜ ë„ë„› ì°¨íŠ¸ ì‹œê°í™”
            initScoreChart: function(score) {
                const ctx = document.getElementById('systemScoreChart').getContext('2d');
                if(window.scoreChartInstance) window.scoreChartInstance.destroy();
                
                window.scoreChartInstance = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [score, 100 - score],
                            backgroundColor: [score < 70 ? '#e11d48' : '#10b981', '#f1f5f9'],
                            borderWidth: 0,
                            circumference: 180,
                            rotation: 270
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '80%',
                        plugins: { legend: { display: false }, tooltip: { enabled: false } }
                    }
                });
            }
        };

        // ë¬¸ì„œ ë¡œë“œ ì™„ë£Œ ì‹œ ì´ˆê¸°í™” ì‹¤í–‰
        window.onload = () => { 
            app.init();
            console.log("CERT Integrated Headquarters V3 Online. Ready for your command, ëŒ€í‘œë‹˜!"); 
        };
    </script>
</body>
</html>
