<!DOCTYPE html>
<!-- í•œêµ­ì–´ ì„¤ì •ìœ¼ë¡œ ë¬¸ì„œì˜ ê¸°ë³¸ ì–¸ì–´ë¥¼ ì§€ì •í•©ë‹ˆë‹¤ -->
<html lang="ko">
<head>
    <!-- ë¸Œë¼ìš°ì € ì¸ì½”ë”©ì„ UTF-8ë¡œ ì„¤ì •í•˜ì—¬ í•œê¸€ ê¹¨ì§ì„ ë°©ì§€í•©ë‹ˆë‹¤ -->
    <meta charset="UTF-8">
    <!-- ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œë„ í™”ë©´ì´ ìµœì í™”ë˜ë„ë¡ ë·°í¬íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- í†µí•© ë³´ì•ˆ ìˆ˜ì‚¬ë³¸ë¶€ V3.1 ì œëª©ì…ë‹ˆë‹¤ -->
    <title>CERT í†µí•© ë³´ì•ˆ ìˆ˜ì‚¬ë³¸ë¶€ V3.1</title>
    <!-- ë””ìì¸ ìƒì‚°ì„±ì„ ìœ„í•´ í…Œì¼ìœˆë“œ CSS í”„ë ˆì„ì›Œí¬ë¥¼ ì™¸ë¶€ CDNì—ì„œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ë°ì´í„° ì‹œê°í™”ë¥¼ ìœ„í•œ Chart.js ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì™¸ë¶€ CDNì—ì„œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ì‹œìŠ¤í…œ ì „ì²´ì— ë…¸í† ì‚°ìŠ¤ í•œê¸€ í°íŠ¸ë¥¼ ì ìš©í•©ë‹ˆë‹¤ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            /* í°íŠ¸ íŒ¨ë°€ë¦¬ ì§€ì • ë° ë°°ê²½ìƒ‰ì„ ì„¸ë ¨ëœ ë°ì€ íšŒìƒ‰ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤ */
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            overflow-x: hidden;
        }

        /* ì°¨íŠ¸ê°€ ë¶€ëª¨ ìš”ì†Œì— ë§ì¶° ìœ ë™ì ìœ¼ë¡œ í¬ê¸°ê°€ ë³€í•˜ë„ë¡ ì»¨í…Œì´ë„ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤ */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: auto;
            height: 250px;
        }

        /* í™”ë©´ ë“±ì¥ ì‹œ ë¶€ë“œëŸ½ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ì…ë‹ˆë‹¤ */
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” ë””ìì¸ìœ¼ë¡œ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤ */
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

        /* ì ê²€ í•­ëª© ì¹´ë“œì— í˜¸ë²„ íš¨ê³¼ë¥¼ ì£¼ì–´ ì¸í„°ë™í‹°ë¸Œí•¨ì„ ë”í•©ë‹ˆë‹¤ */
        .check-item { transition: all 0.2s ease; cursor: pointer; }
        .check-item:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

        /* ëŒ€ì‘ ê°€ì´ë“œ ì˜ì—­ ì• ë‹ˆë©”ì´ì…˜ */
        .remedy-area { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .check-item.active .remedy-area { max-height: 500px; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- í†µí•© í—¤ë” -->
    <header class="bg-slate-900 text-white shadow-xl sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center font-black text-white">CERT</div>
                <div>
                    <h1 class="text-base font-bold leading-tight">CERT í†µí•© ìˆ˜ì‚¬ë³¸ë¶€</h1>
                    <p class="text-[9px] text-indigo-400 uppercase tracking-widest">Global Threat Intelligence v3.1</p>
                </div>
            </div>
            <!-- ìˆ˜ì‚¬ë³¸ë¶€ ë‚´ ì£¼ìš” ì„¼í„° ì´ë™ ë²„íŠ¼ì…ë‹ˆë‹¤ -->
            <nav class="hidden md:flex gap-6 text-xs font-bold">
                <button onclick="app.switchView('analysis')" class="hover:text-indigo-400 transition">ë¶„ì„ ì„¼í„°</button>
                <button onclick="app.switchView('codec')" class="hover:text-indigo-400 transition">ì¸/ë””ì½”ë“œ ì„¼í„°</button>
                <button onclick="app.switchView('system')" class="hover:text-indigo-400 transition text-indigo-400">ì‹œìŠ¤í…œ ì ê²€ ì„¼í„°</button>
            </nav>
            <div class="text-right">
                <p class="text-[10px] text-slate-500 font-bold">ë³´ì•ˆ ì´ê´„ ë³´ì¢Œ ì¤‘</p>
                <p class="text-xs text-emerald-400 font-bold">System: Protected</p>
            </div>
        </div>
    </header>

    <main class="flex-grow p-4 md:p-8 max-w-7xl mx-auto w-full">

        <!-- ì„¹ì…˜ 1: ë¶„ì„ ì„¼í„° -->
        <section id="view-analysis" class="space-y-8 fade-in">
            <!-- (ìƒëµ: ê¸°ì¡´ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ë˜ UIë§Œ ê°€ë³ê²Œ ì •ë¦¬) -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 my-10">
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2">ğŸ“‚ ì—”ë“œí¬ì¸íŠ¸ ë¶„ì„</h3>
                    <input type="file" id="file-input" class="hidden" onchange="app.handleFileSelect(event)">
                    <div id="file-drop-zone" class="border-2 border-dashed border-slate-100 bg-slate-50 rounded-2xl p-10 text-center cursor-pointer hover:bg-indigo-50 transition" onclick="document.getElementById('file-input').click()">
                        <p class="text-sm text-slate-500 font-bold">ì•…ì„± ì˜ì‹¬ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì„¸ìš”</p>
                    </div>
                </div>
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2">ğŸ“§ ì´ë©”ì¼ í—¤ë” ë¶„ì„</h3>
                    <textarea id="email-header-input" class="w-full h-24 p-4 bg-slate-50 border border-slate-100 rounded-xl text-xs font-mono mb-4 outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ì´ë©”ì¼ í—¤ë” ì „ë¬¸..."></textarea>
                    <button onclick="app.startEmailAnalysis()" class="w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition">í—¤ë” ë¶„ì„ ì‹œì‘</button>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 2: ì¸/ë””ì½”ë“œ ì„¼í„° -->
        <section id="view-codec" class="hidden space-y-6 fade-in">
            <!-- (ìƒëµ: ê¸°ì¡´ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ìœ ì§€) -->
            <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200">
                <h2 class="text-2xl font-black text-slate-800 mb-4">ì¸/ë””ì½”ë“œ ìœ í‹¸ë¦¬í‹°</h2>
                <textarea id="codec-input" class="w-full h-44 p-6 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-mono mb-4 outline-none" placeholder="ë°ì´í„° ì…ë ¥..."></textarea>
                <div class="grid grid-cols-2 sm:grid-cols-5 gap-3">
                    <button onclick="codec.run('url')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold">URL</button>
                    <button onclick="codec.run('base64')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold">Base64</button>
                    <button onclick="codec.run('hex')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold">HEX</button>
                    <button onclick="codec.run('charcode')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold">CharCode</button>
                    <button onclick="codec.run('gubun')" class="p-3 bg-slate-100 rounded-xl text-[11px] font-bold">Gubun</button>
                </div>
                <div id="codec-output" class="mt-6 p-6 bg-slate-900 text-emerald-400 rounded-2xl font-mono text-sm min-h-[100px] whitespace-pre-wrap"></div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 3: ì‹œìŠ¤í…œ ì ê²€ ì„¼í„° (ì „ë©´ ê°œí¸) -->
        <section id="view-system" class="hidden space-y-6 fade-in">
            <div class="bg-indigo-900 text-white p-10 rounded-3xl shadow-2xl relative overflow-hidden mb-8">
                <div class="absolute -top-10 -right-10 w-64 h-64 bg-white/5 rounded-full blur-3xl"></div>
                <div class="relative z-10">
                    <div class="mb-8">
                        <h2 class="text-3xl font-black mb-2">ì‹œìŠ¤í…œ ë³´ì•ˆ ì •ë°€ ì§„ë‹¨ ëª¨ë“œ</h2>
                        <p class="text-indigo-200 text-sm max-w-lg">
                            ëŒ€ìƒ ì„œë²„ì˜ IPë¥¼ ì…ë ¥í•˜ì—¬ ì›ê²© ì—°ê²° í›„ ë³´ì•ˆ ì·¨ì•½ì ì„ ì „ìˆ˜ ì¡°ì‚¬í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    
                    <!-- ëŒ€ìƒ ì—°ê²° ì…ë ¥ì°½ -->
                    <div id="system-target-zone" class="flex flex-col md:flex-row gap-4 max-w-2xl bg-white/10 p-6 rounded-2xl border border-white/20 backdrop-blur-md">
                        <div class="flex-grow space-y-2">
                            <label class="text-[10px] font-bold uppercase text-indigo-300">Target IP / Hostname</label>
                            <input type="text" id="system-target-ip" class="w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-emerald-400" placeholder="ì˜ˆ: 192.168.0.100">
                        </div>
                        <button onclick="system.connect()" id="btn-system-connect" class="px-8 py-3 bg-emerald-500 text-white rounded-xl font-black shadow-lg hover:bg-emerald-600 transition active:scale-95 self-end">
                            ì—°ê²° ë° ì§„ë‹¨ ì‹œì‘
                        </button>
                    </div>

                    <!-- ì—°ê²° ìƒíƒœ í‘œì‹œ -->
                    <div id="system-connect-status" class="hidden mt-6 flex items-center gap-3">
                        <div class="w-2 h-2 bg-emerald-400 rounded-full animate-ping"></div>
                        <p class="text-xs font-mono text-emerald-300" id="system-status-text">SSH ë³´ì•ˆ ì„¸ì…˜ ì—°ê²° ì¤‘...</p>
                    </div>
                </div>
            </div>

            <!-- ì§„ë‹¨ ê²°ê³¼ ì˜ì—­ -->
            <div id="system-result" class="hidden space-y-8">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- ì ê²€ í•­ëª© ë¦¬ìŠ¤íŠ¸ -->
                    <div class="lg:col-span-2 space-y-4">
                        <div class="flex justify-between items-center px-2 mb-4">
                            <h3 class="font-bold text-slate-800">10ëŒ€ í•µì‹¬ ë³´ì•ˆ ì ê²€ ê²°ê³¼</h3>
                            <div class="flex gap-3 text-[10px] font-bold">
                                <span class="bg-emerald-100 text-emerald-600 px-2 py-1 rounded">ì–‘í˜¸: <span id="count-safe">0</span></span>
                                <span class="bg-rose-100 text-rose-600 px-2 py-1 rounded">ì·¨ì•½: <span id="count-vuln">0</span></span>
                            </div>
                        </div>
                        <div id="check-list-container" class="space-y-4">
                            <!-- JSì—ì„œ í•­ëª© ìƒì„± -->
                        </div>
                    </div>
                    <!-- ìš”ì•½ ëŒ€ì‹œë³´ë“œ -->
                    <div class="space-y-6">
                        <div class="bg-white p-8 rounded-3xl shadow-sm border border-slate-200 text-center">
                            <h4 class="text-xs font-bold text-slate-400 uppercase mb-4">ì¢…í•© ë³´ì•ˆ ì ìˆ˜</h4>
                            <div class="chart-container" style="height: 180px;">
                                <canvas id="systemScoreChart"></canvas>
                            </div>
                            <p class="text-3xl font-black text-slate-800 mt-4" id="system-total-score">--</p>
                        </div>
                        <div class="bg-slate-900 text-white p-6 rounded-3xl shadow-xl border border-slate-800">
                            <h4 class="text-xs font-bold text-indigo-400 uppercase mb-4">CERT ì´ê´„ì˜ ì¢…í•© ì†Œê²¬</h4>
                            <p id="system-advice" class="text-xs leading-relaxed italic text-slate-300">
                                ëŒ€ìƒì„ ë¨¼ì € ì—°ê²°í•´ ì£¼ì‹­ì‹œì˜¤!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-slate-200 py-8">
        <div class="max-w-7xl mx-auto px-6 text-center text-[10px] text-slate-400 font-bold uppercase tracking-widest">
            &copy; 2024 CERT Intelligence Lab. For Professional Use Only.
        </div>
    </footer>

    <script>
        // ---------------------------------------------------------
        // ì „ì—­ ì•± ê´€ë¦¬ì
        // ---------------------------------------------------------
        const app = {
            state: { currentView: 'system' },
            switchView: function(viewId) {
                document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
                document.getElementById(`view-${viewId}`).classList.remove('hidden');
                this.state.currentView = viewId;
            }
        };

        // ---------------------------------------------------------
        // ì‹œìŠ¤í…œ ì ê²€ ë¡œì§ (V3.1 ì‹ ê·œ)
        // ---------------------------------------------------------
        const system = {
            // ìƒì„¸ ì ê²€ í•­ëª© 10ì¢… ë° ëŒ€ì‘ ê°€ì´ë“œ ë°ì´í„°
            checkItems: [
                { id: 1, cat: "ê³„ì •", title: "Guest ê³„ì • ìƒíƒœ ì ê²€", desc: "Guest ê³„ì •ì˜ í™œì„±í™” ì—¬ë¶€ë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0, 
                  guide: "ì„¤ì • > ê³„ì •ì—ì„œ Guest ê³„ì •ì„ 'ë¹„í™œì„±í™”' ì²˜ë¦¬í•˜ê±°ë‚˜, ëª…ë ¹í”„ë¡¬í”„íŠ¸(Admin)ì—ì„œ 'net user guest /active:no'ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤." },
                { id: 2, cat: "ê³„ì •", title: "Administrator ì´ë¦„ ë³€ê²½", desc: "ê´€ë¦¬ì ê³„ì •ëª…ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš© ì¤‘ì¸ì§€ ì ê²€í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100,
                  guide: "ê³µê²©ìì˜ íƒ€ê²Ÿì´ ë˜ê¸° ì‰¬ìš´ 'Administrator' ëŒ€ì‹  ì¶”ì¸¡í•˜ê¸° ì–´ë ¤ìš´ ë…ìì ì¸ ê´€ë¦¬ì ê³„ì •ëª…ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤." },
                { id: 3, cat: "ì•”í˜¸", title: "ìµœì†Œ ì•”í˜¸ ê¸¸ì´ ì„¤ì •", desc: "ì•”í˜¸ê°€ 8ì ì´ìƒìœ¼ë¡œ ê°•ì œë˜ì–´ ìˆëŠ”ì§€ ì ê²€í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0,
                  guide: "ë¡œì»¬ ë³´ì•ˆ ì •ì±…(secpol.msc) > ê³„ì • ì •ì±… > ì•”í˜¸ ì •ì±…ì—ì„œ 'ìµœì†Œ ì•”í˜¸ ê¸¸ì´'ë¥¼ 8ì ì´ìƒìœ¼ë¡œ ì„¤ì •í•˜ì‹­ì‹œì˜¤." },
                { id: 4, cat: "ì•”í˜¸", title: "ì•”í˜¸ ë³µì¡ì„± ìš”êµ¬ì‚¬í•­", desc: "ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¡°í•© ì‚¬ìš© ì—¬ë¶€ë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100,
                  guide: "ì•”í˜¸ ì •ì±…ì—ì„œ 'ë³µì¡ì„±ì„ ë§Œì¡±í•´ì•¼ í•¨' ì„¤ì •ì„ 'ì‚¬ìš©'ìœ¼ë¡œ ìœ ì§€í•˜ì‹­ì‹œì˜¤." },
                { id: 5, cat: "ë„¤íŠ¸ì›Œí¬", title: "ê³µìœ  í´ë” ì œê±°", desc: "C$, ADMIN$ ë“± ê¸°ë³¸ ê³µìœ  í´ë” ì¡´ì¬ ì—¬ë¶€ë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0,
                  guide: "ë ˆì§€ìŠ¤íŠ¸ë¦¬ í¸ì§‘ê¸°ì—ì„œ AutoShareWks ê°’ì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ê´€ë¦¬ ëª©ì ì˜ ê¸°ë³¸ ê³µìœ ë¥¼ ì°¨ë‹¨í•˜ì‹­ì‹œì˜¤." },
                { id: 6, cat: "ë„¤íŠ¸ì›Œí¬", title: "ì›ê²© ë°ìŠ¤í¬í†± ë³´ì•ˆ", desc: "RDP ì ‘ê·¼ì´ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ í—ˆìš©ë˜ì–´ ìˆëŠ”ì§€ ì ê²€í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0,
                  guide: "ì›ê²© ë°ìŠ¤í¬í†± ì„¤ì •ì—ì„œ 'ë„¤íŠ¸ì›Œí¬ ìˆ˜ì¤€ ì¸ì¦(NLA)'ì„ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì—ì„œë§Œ ì ‘ì†ì„ í—ˆìš©í•˜ë„ë¡ ì œí•œí•˜ì‹­ì‹œì˜¤." },
                { id: 7, cat: "ì„œë¹„ìŠ¤", title: "ì·¨ì•½í•œ ì„œë¹„ìŠ¤(Telnet) ì¤‘ì§€", desc: "ë³´ì•ˆì— ì·¨ì•½í•œ Telnet ì„œë¹„ìŠ¤ êµ¬ë™ ì—¬ë¶€ë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100,
                  guide: "ì œì–´íŒ > í”„ë¡œê·¸ë¨ ë° ê¸°ëŠ¥ > Windows ê¸°ëŠ¥ ì¼œê¸°/ë„ê¸°ì—ì„œ 'Telnet Client'ë¥¼ ì²´í¬ í•´ì œí•˜ì‹­ì‹œì˜¤." },
                { id: 8, cat: "ì„œë¹„ìŠ¤", title: "ë¶ˆí•„ìš”í•œ FTP ì„œë¹„ìŠ¤ ì œê±°", desc: "ì¸ê°€ë˜ì§€ ì•Šì€ FTP ì„œë²„ ê°€ë™ ì—¬ë¶€ë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100,
                  guide: "íŒŒì¼ ì „ì†¡ì´ í•„ìš” ì—†ëŠ” ê²½ìš° IIS ë‚´ FTP ì„œë¹„ìŠ¤ ë˜ëŠ” íƒ€ì‚¬ FTP ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì œê±°í•˜ì‹­ì‹œì˜¤." },
                { id: 9, cat: "ì—…ë°ì´íŠ¸", title: "ìµœì‹  ë³´ì•ˆ íŒ¨ì¹˜ ì ìš©", desc: "ìœˆë„ìš° ì—…ë°ì´íŠ¸ì˜ ìµœì‹  ìƒíƒœë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì·¨ì•½", score: 0,
                  guide: "ì„¤ì • > Windows ì—…ë°ì´íŠ¸ì—ì„œ ëª¨ë“  ì¤‘ìš” ë³´ì•ˆ ì—…ë°ì´íŠ¸ë¥¼ ì¦‰ì‹œ ì„¤ì¹˜í•˜ì—¬ OSë¥¼ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•˜ì‹­ì‹œì˜¤." },
                { id: 10, cat: "ë‹¨ë§", title: "í™”ë©´ ë³´í˜¸ê¸° ì„¤ì •", desc: "ìë¦¬ ë¹„ì›€ ì‹œ ìë™ ì ê¸ˆ ì„¤ì • ì—¬ë¶€ë¥¼ ì ê²€í•©ë‹ˆë‹¤.", result: "ì–‘í˜¸", score: 100,
                  guide: "ê°œì¸ ì„¤ì • > ì ê¸ˆ í™”ë©´ì—ì„œ 'ë‹¤ì‹œ ì‹œì‘í•  ë•Œ ë¡œê·¸ì˜¨ í™”ë©´ í‘œì‹œ'ë¥¼ ì²´í¬í•˜ê³  ëŒ€ê¸° ì‹œê°„ì„ 10ë¶„ ì´ë‚´ë¡œ ì„¤ì •í•˜ì‹­ì‹œì˜¤." }
            ],

            // ëŒ€ìƒ ì—°ê²° ì‹œë®¬ë ˆì´ì…˜
            connect: function() {
                const ip = document.getElementById('system-target-ip').value;
                if(!ip) return alert("ëŒ€í‘œë‹˜, ì ê²€í•  ëŒ€ìƒ IPë‚˜ í˜¸ìŠ¤íŠ¸ëª…ì„ ì…ë ¥í•´ ì£¼ì‹­ì‹œì˜¤! ğŸ«¡");

                document.getElementById('system-connect-status').classList.remove('hidden');
                document.getElementById('btn-system-connect').disabled = true;
                
                const steps = ["ëŒ€ìƒ ì‹œìŠ¤í…œ íƒìƒ‰ ì¤‘...", "í¬íŠ¸ ìŠ¤ìº” ìˆ˜í–‰ ì¤‘ (22, 135, 445)...", "SSH ë³´ì•ˆ ì„¸ì…˜ ìˆ˜ë¦½ ì¤‘...", "WMI ì¸í„°í˜ì´ìŠ¤ ì—°ê²° ì„±ê³µ!"];
                let step = 0;
                const int = setInterval(() => {
                    document.getElementById('system-status-text').innerText = steps[step];
                    step++;
                    if(step >= steps.length) {
                        clearInterval(int);
                        setTimeout(() => this.runCheck(), 500);
                    }
                }, 600);
            },

            // ì‹¤ì œ ì ê²€ ë¡œì§ ì‹¤í–‰
            runCheck: function() {
                document.getElementById('system-connect-status').classList.add('hidden');
                document.getElementById('system-result').classList.remove('hidden');
                
                const container = document.getElementById('check-list-container');
                container.innerHTML = "";
                
                let totalScore = 0;
                let safeCount = 0;
                let vulnCount = 0;

                this.checkItems.forEach((item, idx) => {
                    totalScore += item.score;
                    if(item.result === 'ì–‘í˜¸') safeCount++; else vulnCount++;

                    const div = document.createElement('div');
                    div.className = "bg-white rounded-2xl border border-slate-200 check-item overflow-hidden fade-in";
                    div.style.animationDelay = `${idx * 0.1}s`;
                    div.onclick = function() { this.classList.toggle('active'); };
                    
                    div.innerHTML = `
                        <div class="p-6 flex flex-col md:flex-row justify-between items-center gap-4">
                            <div class="flex-grow">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="text-[9px] font-black uppercase px-2 py-0.5 ${item.score === 100 ? 'bg-emerald-100 text-emerald-600' : 'bg-rose-100 text-rose-600'} rounded">${item.cat}</span>
                                    <h4 class="font-bold text-slate-800 text-sm">${item.title}</h4>
                                </div>
                                <p class="text-xs text-slate-400">${item.desc}</p>
                            </div>
                            <div class="flex items-center gap-4">
                                <span class="text-xs font-bold ${item.score === 100 ? 'text-emerald-500' : 'text-rose-500'}">${item.result}</span>
                                <div class="w-10 h-10 rounded-xl flex items-center justify-center font-black ${item.score === 100 ? 'bg-emerald-50 text-emerald-600' : 'bg-rose-50 text-rose-600'}">
                                    ${item.score}
                                </div>
                            </div>
                        </div>
                        <!-- í´ë¦­ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ëŒ€ì‘ ê°€ì´ë“œ -->
                        <div class="remedy-area bg-slate-50 border-t border-slate-100">
                            <div class="p-6">
                                <h5 class="text-xs font-bold text-indigo-600 mb-2 flex items-center gap-2">
                                    <span>ğŸ›¡ï¸ CERT ê¸´ê¸‰ ì²˜ë°©ì „</span>
                                </h5>
                                <p class="text-[11px] text-slate-600 leading-relaxed">${item.guide}</p>
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });

                // í†µê³„ ì—…ë°ì´íŠ¸
                document.getElementById('count-safe').innerText = safeCount;
                document.getElementById('count-vuln').innerText = vulnCount;
                const finalScore = Math.round(totalScore / this.checkItems.length);
                document.getElementById('system-total-score').innerText = `${finalScore}ì `;
                
                const advice = finalScore < 80 ? "ëŒ€í‘œë‹˜, í˜„ì¬ ì‹œìŠ¤í…œ ë³´ì•ˆ ë“±ê¸‰ì´ ë‚®ìŠµë‹ˆë‹¤! íŠ¹íˆ ë¶‰ê²Œ í‘œì‹œëœ ì·¨ì•½ í•­ëª©ë“¤ì˜ 'ì²˜ë°©ì „'ì„ í´ë¦­í•˜ì—¬ ì¦‰ì‹œ ì¡°ì¹˜í•˜ì‹œê¸¸ ê¶Œê³ í•©ë‹ˆë‹¤." : "í›Œë¥­í•©ë‹ˆë‹¤! ëŒ€ë¶€ë¶„ì˜ ë³´ì•ˆ ìˆ˜ì¹™ì„ ì˜ ì¤€ìˆ˜í•˜ê³  ê³„ì‹­ë‹ˆë‹¤. ì§€ê¸ˆì˜ ë³´ì•ˆ íƒœì„¸ë¥¼ ìœ ì§€í•´ ì£¼ì‹­ì‹œì˜¤!";
                document.getElementById('system-advice').innerText = advice;

                this.initScoreChart(finalScore);
            },

            // ì°¨íŠ¸ ì‹œê°í™”
            initScoreChart: function(score) {
                const ctx = document.getElementById('systemScoreChart').getContext('2d');
                if(window.sysChart) window.scoreChartInstance.destroy();
                window.scoreChartInstance = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [score, 100 - score],
                            backgroundColor: [score < 70 ? '#e11d48' : '#10b981', '#f1f5f9'],
                            borderWidth: 0, circumference: 180, rotation: 270
                        }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, cutout: '80%', plugins: { legend: { display: false } } }
                });
            }
        };

        // ì´ˆê¸° ë¡œë“œ
        window.onload = () => { 
            console.log("CERT Integrated V3.1 Online."); 
            // ë¶„ì„ ì„¼í„° ë“œë˜ê·¸ì•¤ë“œë¡­ ë“± ì´ˆê¸°í™” ë¡œì§ (í¸ì˜ìƒ ìƒëµ)
        };
    </script>
</body>
</html>
